(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{257:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));n(453);var a=n(0),r=n.n(a),o=n(5),i=n(224),c=n(459),l=n(18),u=n.n(l),s=(n(223),n(79)),m=n(43),d=n(167);n(338);d.initializeApp({apiKey:"AIzaSyCbKHJxhz53HWo0wyjJVd4yxTb6NZDjSWU",authDomain:"shovelsnow-316ad.firebaseapp.com",databaseURL:"https://shovelsnow-316ad-default-rtdb.firebaseio.com",projectId:"shovelsnow-316ad",storageBucket:"shovelsnow-316ad.appspot.com",messagingSenderId:"663821110835",appId:"1:663821110835:web:b5281ea103c517cea8dd46"});var f=n(70);var g=n(14),h=n.n(g),p=n(15),v=n.n(p),b=n(31),E={primary:"#f57c00",secondary:"#039be5",black:"#222222",white:"#ffffff",ghostWhite:"#f8f8ff",lightGrey:"#f9f9f9",mediumGrey:"#6e6869",red:"#fc5c65"};function y(e){var t=e.error,n=e.visible;return t&&n?r.a.createElement(b.a,{style:S.errorText},t):null}var S=o.a.create({errorText:{marginLeft:15,color:E.red,fontSize:16,marginBottom:5,fontWeight:"600"}}),w=n(4),j=n(45),O=n(49),I=n(460);function C(e){var t=e.leftIcon,n=e.width,a=void 0===n?"100%":n,o=e.rightIcon,i=e.handlePasswordVisibility,c=v()(e,["leftIcon","width","rightIcon","handlePasswordVisibility"]);return r.a.createElement(w.a,{style:[x.container,{width:a}]},t&&r.a.createElement(I.a,{name:t,size:20,color:E.mediumGrey,style:x.icon}),r.a.createElement(j.a,h()({style:x.input,placeholderTextColor:E.mediumGrey},c)),o&&r.a.createElement(O.a,{onPress:i},r.a.createElement(I.a,{name:o,size:20,color:E.mediumGrey,style:x.rightIconStyles})))}var x=o.a.create({container:{backgroundColor:E.lightGrey,borderRadius:25,flexDirection:"row",padding:15,marginVertical:10},icon:{marginRight:10},input:{flex:1,width:"100%",fontSize:18,color:E.black},rightIconStyles:{alignSelf:"center",marginLeft:10}});var q=o.a.create({button:{marginVertical:10,borderRadius:25,justifyContent:"center",alignItems:"center",padding:15,width:"100%"},buttonText:{color:E.white,fontSize:18,fontWeight:"600",textTransform:"uppercase"}}),V=n(77);var k=o.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},title:{color:E.white,fontSize:18,fontWeight:"600",marginRight:5}}),F=function(e){return function(e){var t=e.children,n=e.initialValues,a=e.onSubmit,o=e.validationSchema;return r.a.createElement(f.a,{initialValues:n,validationSchema:o,onSubmit:a},(function(){return r.a.createElement(r.a.Fragment,null,t)}))}(e)};F.Field=function(e){var t=e.name,n=e.width,a=v()(e,["name","width"]),o=Object(f.b)(),i=o.setFieldTouched,c=o.setFieldValue,l=o.values,u=o.errors,s=o.touched;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,h()({value:l[t],onChangeText:function(e){return c(t,e)},onBlur:function(){return i(t)},width:n},a)),r.a.createElement(y,{error:u[t],visible:s[t]}))},F.Button=function(e){var t=e.title,n=e.color,a=void 0===n?"primary":n,o=Object(f.b)(),i=o.handleSubmit,c=o.values,l="function"===typeof t?t(c):t;return r.a.createElement(O.a,{style:[q.button,{backgroundColor:E[a]}],onPress:i},r.a.createElement(b.a,{style:q.buttonText},l))},F.ErrorMessage=y,F.Switch=function(e){var t=e.name,n=e.title,a=e.onChange,o=void 0===a?function(e){return e}:a,i=v()(e,["name","title","onChange"]),c=Object(f.b)(),l=c.values,u=c.setFieldValue,s=l[t];return r.a.createElement(w.a,{style:k.container},r.a.createElement(b.a,{style:k.title},n),r.a.createElement(V.a,h()({value:s,onValueChange:function(e){o(e),u(t,e)}},i)))};var P=F,T=(n(452),o.a.create({RequestHelpBtn:{flex:1,alignItems:"center",justifyContent:"center",paddingTop:20}})),z=function(e){var t=e.navigation,n=Object(a.useState)(0),o=u()(n,2),i=(o[0],o[1],Object(a.useState)("")),c=u()(i,2),l=c[0],f=c[1];return r.a.createElement(s.a,{style:T.container},r.a.createElement(m.a,null,r.a.createElement(P,{initialValues:{user:"Jack",addr:"1630 Chicago Avenue, Evanston, Illinois, USA",time:"Thu 12:00-13:50"},onSubmit:function(e){!function(e){var t,n,a=e.user,r=e.time,o=e.addr;fetch("http://api.positionstack.com/v1/forward?access_key=300bfd70ae97e0cdc39aa8c66e930ada&query="+o,{method:"GET"}).then((function(e){return e.json()})).then((function(e){t=e.data[0].longitude,n=e.data[0].latitude,accepted=0})).then((function(){var e={user:a,time:r,addr:o,longitude:t,latitude:n,accepted:accepted};d.database().ref("requests").child(a).set(e).catch((function(e){f(e.message)}))})).catch((function(e){console.error(e)}))}(e),t.navigate("Home")}},r.a.createElement(P.Field,{name:"user",leftIcon:"identifier",placeholder:"Jack",autoCapitalize:"none",autoFocus:!0}),r.a.createElement(P.Field,{name:"time",leftIcon:"calendar-range",placeholder:"Thu 12:00-13:50",autoCapitalize:"none"}),r.a.createElement(P.Field,{name:"addr",leftIcon:"format-title",placeholder:"1630 Chicago Avenue, Evanston, IL"}),r.a.createElement(P.Button,{title:"Request"}),r.a.createElement(P.ErrorMessage,{error:l,visible:!0}))))},R=n(103);var D=o.a.create({HomeScreen:{flex:1,alignItems:"center",justifyContent:"center",paddingTop:20}}),B=function(e){var t=e.navigation;return r.a.createElement(w.a,{style:D.HomeScreen},r.a.createElement(b.a,null,"Welcome to ShovelSnow!"),r.a.createElement(R.a,{title:"go to request page",onPress:function(){return t.navigate("Request")}}),r.a.createElement(R.a,{title:"go to volunteer page",onPress:function(){return t.navigate("Volunteer")}}))},G=n(2),H=n.n(G),W=n(173);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){H()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o.a.create({VolunteerScreen:{flex:1}});var L=function(){var e=Object(a.useState)({requests:[]}),t=u()(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){d.database().ref().on("value",(function(e){var t;e.val()&&(o(J(J({},t=e.val()),{},{requests:Object.values(t.requests)})),console.log("requestList :>> ",n.requests))}),(function(e){return console.log(e)}))}),[]),r.a.createElement(W.b,{style:{flex:1},initialRegion:{latitude:42.045597,longitude:-87.688568,latitudeDelta:.0922,longitudeDelta:.0421}},n.requests.map((function(e,t){return r.a.createElement(W.a,{key:t,coordinate:{latitude:e.latitude,longitude:e.longitude},title:e.user,description:e.time})})))};function M(e){r.a.createElement(s.a,{style:styles.container},r.a.createElement(m.a,null,r.a.createElement(P,{initialValues:{user:"",addr:"",time:""}},r.a.createElement(P.Field,{name:"user",leftIcon:"identifier",placeholder:e.user,autoCapitalize:"none",autoFocus:!0}),r.a.createElement(P.Field,{name:"time",leftIcon:"calendar-range",placeholder:e.time,autoCapitalize:"none"}),r.a.createElement(P.Field,{name:"addr",leftIcon:e.addr,placeholder:"1630 Chicago Avenue, Evanston, IL"}),r.a.createElement(P.Button,{title:"Request"}),r.a.createElement(P.ErrorMessage,{error:submitError,visible:!0}))))}var U=Object(c.a)();function K(){return r.a.createElement(i.a,null,r.a.createElement(U.Navigator,null,r.a.createElement(U.Screen,{name:"Home",component:B}),r.a.createElement(U.Screen,{name:"Request",component:z}),r.a.createElement(U.Screen,{name:"Volunteer",component:L}),r.a.createElement(U.Screen,{name:"RequestScreen",component:M})))}o.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}})},299:function(e,t,n){e.exports=n(454)}},[[299,1,2]]]);
//# sourceMappingURL=app.0aaef207.chunk.js.map